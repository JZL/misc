//http://cytoscapeweb.cytoscape.org/documentation/elements
// $.getJSON("https://www.librarything.com/api_getdata.php?userid=lorem&key=3038189884&booksort=entry_REV&max=100&showReviews=1&showstructure=1&callback=?",function(response){LTJSON = response.books})
// var elements = {nodes:[],edges:[]}
// for(var i in LTJSON){
// if(LTJSON[i].hasreview == "1"){
// //has Review
// elements.nodes.push({ data: { id: LTJSON[i].title.replace(/ \(.*\)/, "") } })
// }
// }

$(function(){ // on dom ready



var cy = cytoscape({
  container: document.getElementById('cy'),
  
  style: cytoscape.stylesheet()
    .selector('node')
      .css({
        'content': 'data(id)'
      })
    .selector('edge')
      .css({
        'target-arrow-shape': 'triangle',
        'width': 4,
        'line-color': '#ddd',
        'target-arrow-color': '#ddd'
      })
    .selector('.highlighted')
      .css({
        'background-color': '#61bffc',
        'line-color': '#61bffc',
        'target-arrow-color': '#61bffc',
        'transition-property': 'background-color, line-color, target-arrow-color',
        'transition-duration': '0.5s'
      }),
  
  // elements: {
  //     nodes: [
  //       { data: { id: 'a' } },
  //       { data: { id: 'b' } },
  //       { data: { id: 'c' } },
  //       { data: { id: 'd' } },
  //       { data: { id: 'e' } }
  //     ], 
      
  //     edges: [
  //       { data: { id: 'a"e', weight: 1, source: 'a', target: 'e' } },
  //       { data: { id: 'ab', weight: 3, source: 'a', target: 'b' } },
  //       { data: { id: 'be', weight: 4, source: 'b', target: 'e' } },
  //       { data: { id: 'bc', weight: 5, source: 'b', target: 'c' } },
  //       { data: { id: 'ce', weight: 6, source: 'c', target: 'e' } },
  //       { data: { id: 'cd', weight: 2, source: 'c', target: 'd' } },
  //       { data: { id: 'd"e', weight: 7, source: 'd', target: 'e' } }
  //     ]
  //   },
  elements:{"nodes":[{"label":"The Void","id":"void"},{"data":{"label":"Crocodile Tears","id":"crocodile_tears"}},{"data":{"label":"Quidditch Through the Ages","id":"hp_quidditch"}},{"data":{"label":"Kingdom Keepers VI: Dark Passage","id":"dark_passage"}},{"data":{"label":"Ark Angel","id":"ark_angel"}},{"data":{"label":"The Art of Intrusion: The Real Stories Behind the Exploits of Hackers, Intruders and Deceivers","id":"art_intrusion"}},{"data":{"label":"Plugged","id":"plugged"}},{"data":{"label":"The Final Hour","id":"final_hour"}},{"data":{"label":"Beauty Queens","id":"beauty"}},{"data":{"label":"Dreadnought","id":"dreadnought"}},{"data":{"label":"The Tipping Point: How Little Things Can Make a Big Difference","id":"tipping_point"}},{"data":{"label":"The Mysterious Benedict Society","id":"mysterious_benedict"}},{"data":{"label":"The Diviners","id":"diviners"}},{"data":{"label":"Inheritance","id":"inheritance"}},{"data":{"label":"The Diamond Age: Or, a Young Lady's Illustrated Primer","id":"diamond_age"}},{"data":{"label":"H.I.V.E. 8: Deadlock","id":"deadlock"}},{"data":{"label":"Tiger's Voyage","id":"tigers_voyage"}},{"data":{"label":"Tiger's Promise: A Tiger's Curse Novella","id":"tigers_promise"}},{"data":{"label":"The Silkworm","id":"silkworm"}},{"data":{"label":"Harry Potter And The Chamber Of Secrets","id":"hp_chamber"}},{"data":{"label":"Harry Potter and the Prisoner of Azkaban","id":"hp_prisoner"}},{"data":{"label":"Harry Potter And The Order Of The Phoenix","id":"hp_order"}},{"data":{"label":"Harry Potter and the Half-Blood Prince","id":"hp_prince"}},{"data":{"label":"Harry Potter and the Deathly Hallows","id":"hp_deathly"}},{"data":{"label":"Harry Potter: The Prequel","id":"hp_prequel"}},{"data":{"label":"Pathfinder","id":"pathfinder"}},{"data":{"label":"Kingdom Keepers III: Disney in Shadow","id":"disney_shadow"}},{"data":{"label":"Earth Awakens","id":"earth_unawakens"}},{"data":{"label":"The Overlord Protocol","id":"overlord"}},{"data":{"label":"Maisie Dobbs","id":"maisie_dobbs"}},{"data":{"label":"The Tiger: A True Story of Vengeance and Survival","id":"tiger"}},{"data":{"label":"A Separate Peace","id":"seperate_peace"}},{"data":{"label":"The Supernaturalist","id":"supernaturalist"}},{"data":{"label":"The Time Paradox","id":"time_paradox"}},{"data":{"label":"Mr. Penumbra's 24-Hour Bookstore: A Novel","id":"penumbra"}},{"data":{"label":"The Wish List","id":"wish_list"}},{"data":{"label":"Ghost in the Wires: My Adventures as the World's Most Wanted Hacker","id":"ghost_wires"}},{"data":{"label":"Siddhartha","id":"siddhartha"}},{"data":{"label":"I Am the Messenger","id":"i_messenger"}},{"data":{"label":"Earth Unaware","id":"earth_unaware"}},{"data":{"label":"Earth Afire","id":"earth_afire"}},{"data":{"label":"Alex Rider: The Gadgets","id":"rider_gadgets"}},{"data":{"label":"The Dinner","id":"dinner"}},{"data":{"label":"In Vino Veritas","id":"in_vino"}},{"data":{"label":"The Long Earth","id":"long_earth"}},{"data":{"label":"The Magic Finger","id":"magic_finger"}},{"data":{"label":"Dumbledore’s Army Reunites at Quidditch World Cup Final","id":"dumbledores_army"}},{"data":{"label":"The last thing I remember","id":"last_thing"}},{"data":{"label":"The Chocolate War","id":"chocolate_war"}},{"data":{"label":"To Kill a Mockingbird","id":"kill_mockingbird"}},{"data":{"label":"The Call of the Wild","id":"call_of"}},{"data":{"label":"The Long War","id":"long_war"}},{"data":{"label":"Dark Eyes","id":"dark_eyes"}},{"data":{"label":"Cutting for Stone","id":"cutting_for"}},{"data":{"label":"The Grand Design","id":"grand_design"}},{"data":{"label":"The Magician's Land: A Novel","id":"magicians_land"}},{"data":{"label":"The Glass Castle: A Memoir","id":"glass_castle"}},{"data":{"label":"Unbroken: A World War II Story of Survival, Resilience, and Redemption","id":"unbroken"}},{"data":{"label":"The Color of Magic","id":"color_magic"}},{"data":{"label":"Things to Make and Do in the Fourth Dimension: A Mathematician's Journey Through Narcissistic Numbers, Optimal Dating Algorithms, at Least Two Kinds of Infinity, and More","id":"things_make"}},{"data":{"label":"Good Omens: The Nice and Accurate Prophecies of Agnes Nutter, Witch","id":"good_omens"}},{"data":{"label":"My Brief History","id":"brief_history"}},{"data":{"label":"Eat, Pray, Love: One Woman's Search for Everything Across Italy, India and Indonesia","id":"eat_pray<br>I"}},{"data":{"label":"The Hobbit; or, There and Back Again","id":"hobbit"}},{"data":{"label":"The Shipping News","id":"shipping_news"}},{"data":{"label":"Days of Blood & Starlight","id":"days_blood"}},{"data":{"label":"Dreams of Gods & Monsters","id":"dream_gods"}},{"data":{"label":"Visitors","id":"visitors"}},{"data":{"label":"The Princess Bride: S. Morgenstern's Classic Tale of True Love and High Adventure","id":"princess_bride<br>This"}},{"data":{"label":"Lock In","id":"lock_in<br>I"}},{"data":{"label":"Gödel's Proof","id":"godels_proof"}},{"data":{"label":"Not a Drop to Drink","id":"drop_drink"}},{"data":{"label":"In a Handful of Dust","id":"handful_dust"}},{"data":{"label":"American Gods","id":"american_gods"}},{"data":{"label":"Odalisque: The Baroque Cycle #3","id":"odalisque"}},{"data":{"label":"King of the Vagabonds: The Baroque Cycle #2","id":"king_vagabonds"}},{"data":{"label":"The Ocean at the End of the Lane: A Novel","id":"ocean_end<br>Gaian"}},{"data":{"label":"Brunelleschi's Dome: How a Renaissance Genius Reinvented Architecture","id":"brunelleschis_dome"}},{"data":{"label":"I Am a Strange Loop","id":"strange_loop"}},{"data":{"label":"Beyond the Chocolate War","id":"beyond_chocolate"}},{"data":{"label":"Le Ton Beau De Marot: In Praise of The Music of Language","id":"le_ton"}},{"data":{"label":"Gang Leader for a Day: A Rogue Sociologist Takes to the Streets","id":"gang_leader"}},{"data":{"label":"Howl's Moving Castle","id":"howls_moving"}},{"data":{"label":"The Curious Incident of the Dog in the Night-Time","id":"curious_incident"}},{"data":{"label":"Shakespeare Saved My Life: Ten Years in Solitary with the Bard","id":"shakespeare_saved"}},{"data":{"label":"Harry Potter and the Sorcerer's Stone","id":"hp_sorcerers"}},{"data":{"label":"Hacker, Hoaxer, Whistleblower, Spy: The Many Faces of Anonymous","id":"hacker_hoaxer"}},{"data":{"label":"Saturday","id":"saturday"}},{"data":{"label":"George's Secret Key to Universe","id":"george_secret"}},{"data":{"label":"My own country : a doctor's story","id":"own_country"}},{"data":{"label":"The Tennis Partner","id":"tennis_partner"}},{"data":{"label":"The Long Utopia: A Novel","id":"long_utopia"}},{"data":{"label":"The Long Mars","id":"long_mars"}},{"data":{"label":"The Art of Deception: Controlling the Human Element of Security","id":"art_deception"}},{"data":{"label":"Skeleton Key","id":"skeleton_key"}}],"edges":[{"data":{"id":"crocodile_tearssnakehead","weight":1,"source":"crocodile_tears","target":"snakehead"}},{"data":{"id":"hp_quidditchhp_sorcerers","weight":1,"source":"hp_quidditch","target":"hp_sorcerers"}},{"data":{"id":"dark_passageshell_game","weight":1,"source":"dark_passage","target":"shell_game"}},{"data":{"id":"ark_angelscorpia","weight":1,"source":"ark_angel","target":"scorpia"}},{"data":{"id":"art_intrusionghost_wires","weight":1,"source":"art_intrusion","target":"ghost_wires"}},{"data":{"id":"pluggedartemis_fowl","weight":1,"source":"plugged","target":"artemis_fowl"}},{"data":{"id":"final_hourlong_way","weight":1,"source":"final_hour","target":"long_way"}},{"data":{"id":"beautydiviners","weight":1,"source":"beauty","target":"diviners"}},{"data":{"id":"dreadnoughtescape_velocity","weight":1,"source":"dreadnought","target":"escape_velocity"}},{"data":{"id":"tipping_pointdavid_goliath","weight":1,"source":"tipping_point","target":"david_goliath"}},{"data":{"id":"mysterious_benedictvoid","weight":1,"source":"mysterious_benedict","target":"void"}},{"data":{"id":"divinersjohn_green","weight":1,"source":"diviners","target":"john_green"}},{"data":{"id":"inheritancebrisingr<br>------<br>As","weight":1,"source":"inheritance","target":"brisingr<br>------<br>As"}},{"data":{"id":"diamond_agereamde","weight":1,"source":"diamond_age","target":"reamde"}},{"data":{"id":"deadlockaftershock","weight":1,"source":"deadlock","target":"aftershock"}},{"data":{"id":"tigers_voyagetigers_quest","weight":1,"source":"tigers_voyage","target":"tigers_quest"}},{"data":{"id":"tigers_promisetigers_curse","weight":1,"source":"tigers_promise","target":"tigers_curse"}},{"data":{"id":"silkwormhp_sorcerers","weight":1,"source":"silkworm","target":"hp_sorcerers"}},{"data":{"id":"hp_chamberhp_sorcers","weight":1,"source":"hp_chamber","target":"hp_sorcers"}},{"data":{"id":"hp_prisonerhp_chamber","weight":1,"source":"hp_prisoner","target":"hp_chamber"}},{"data":{"id":"hp_orderhp_goblet","weight":1,"source":"hp_order","target":"hp_goblet"}},{"data":{"id":"hp_princehp_order","weight":1,"source":"hp_prince","target":"hp_order"}},{"data":{"id":"hp_deathlyhp_prince","weight":1,"source":"hp_deathly","target":"hp_prince"}},{"data":{"id":"hp_prequelhp_sorcerers","weight":1,"source":"hp_prequel","target":"hp_sorcerers"}},{"data":{"id":"pathfinderenders_game","weight":1,"source":"pathfinder","target":"enders_game"}},{"data":{"id":"disney_shadowdisney_dawn","weight":1,"source":"disney_shadow","target":"disney_dawn"}},{"data":{"id":"earth_unawakensearth_afire","weight":1,"source":"earth_unawakens","target":"earth_afire"}},{"data":{"id":"overlordhive","weight":1,"source":"overlord","target":"hive"}},{"data":{"id":"maisie_dobbsmom","weight":1,"source":"maisie_dobbs","target":"mom"}},{"data":{"id":"tigerryan_holiday","weight":1,"source":"tiger","target":"ryan_holiday"}},{"data":{"id":"seperate_peaceenglish","weight":1,"source":"seperate_peace","target":"english"}},{"data":{"id":"supernaturalistartemis_fowl","weight":1,"source":"supernaturalist","target":"artemis_fowl"}},{"data":{"id":"time_paradoxlost_colony","weight":1,"source":"time_paradox","target":"lost_colony"}},{"data":{"id":"penumbrawired","weight":1,"source":"penumbra","target":"wired"}},{"data":{"id":"wish_listartemis_fowl","weight":1,"source":"wish_list","target":"artemis_fowl"}},{"data":{"id":"ghost_wireslibrary","weight":1,"source":"ghost_wires","target":"library"}},{"data":{"id":"siddharthaenglish","weight":1,"source":"siddhartha","target":"english"}},{"data":{"id":"i_messengerbook_thief","weight":1,"source":"i_messenger","target":"book_thief"}},{"data":{"id":"earth_unawareenders_game","weight":1,"source":"earth_unaware","target":"enders_game"}},{"data":{"id":"earth_afireearth_unaware","weight":1,"source":"earth_afire","target":"earth_unaware"}},{"data":{"id":"rider_gadgetslibrary","weight":1,"source":"rider_gadgets","target":"library"}},{"data":{"id":"dinnervoid","weight":1,"source":"dinner","target":"void"}},{"data":{"id":"in_vinovoid","weight":1,"source":"in_vino","target":"void"}},{"data":{"id":"long_earthcolor_magic","weight":1,"source":"long_earth","target":"color_magic"}},{"data":{"id":"magic_fingercharlie_chocolate","weight":1,"source":"magic_finger","target":"charlie_chocolate"}},{"data":{"id":"dumbledores_armyhp_sorcerers","weight":1,"source":"dumbledores_army","target":"hp_sorcerers"}},{"data":{"id":"last_thingvoid","weight":1,"source":"last_thing","target":"void"}},{"data":{"id":"chocolate_warvoid","weight":1,"source":"chocolate_war","target":"void"}},{"data":{"id":"kill_mockingbirdschool","weight":1,"source":"kill_mockingbird","target":"school"}},{"data":{"id":"call_ofschool","weight":1,"source":"call_of","target":"school"}},{"data":{"id":"long_warlong_earth","weight":1,"source":"long_war","target":"long_earth"}},{"data":{"id":"dark_eyeslibrary","weight":1,"source":"dark_eyes","target":"library"}},{"data":{"id":"cutting_forvoid","weight":1,"source":"cutting_for","target":"void"}},{"data":{"id":"grand_designbrief_history","weight":1,"source":"grand_design","target":"brief_history"}},{"data":{"id":"magicians_landmagician_king<br>Having","weight":1,"source":"magicians_land","target":"magician_king<br>Having"}},{"data":{"id":"glass_castleenglish","weight":1,"source":"glass_castle","target":"english"}},{"data":{"id":"unbrokenbook_club","weight":1,"source":"unbroken","target":"book_club"}},{"data":{"id":"color_magicgood_omens","weight":1,"source":"color_magic","target":"good_omens"}},{"data":{"id":"things_makenumberphile<br>I","weight":1,"source":"things_make","target":"numberphile<br>I"}},{"data":{"id":"good_omensamerican_gods<br>I","weight":1,"source":"good_omens","target":"american_gods<br>I"}},{"data":{"id":"brief_historygeorge_secret<br>This","weight":1,"source":"brief_history","target":"george_secret<br>This"}},{"data":{"id":"eat_pray<br>Ivoid","weight":1,"source":"eat_pray<br>I","target":"void"}},{"data":{"id":"hobbitenglish","weight":1,"source":"hobbit","target":"english"}},{"data":{"id":"shipping_newsMshamilton<br>I","weight":1,"source":"shipping_news","target":"Mshamilton<br>I"}},{"data":{"id":"days_blooddaughter_smoke<br>This","weight":1,"source":"days_blood","target":"daughter_smoke<br>This"}},{"data":{"id":"dream_godsdaughter_smoke<br>Of","weight":1,"source":"dream_gods","target":"daughter_smoke<br>Of"}},{"data":{"id":"visitorsruins<br>I","weight":1,"source":"visitors","target":"ruins<br>I"}},{"data":{"id":"princess_bride<br>Thisvoid","weight":1,"source":"princess_bride<br>This","target":"void"}},{"data":{"id":"lock_in<br>Ivoid","weight":1,"source":"lock_in<br>I","target":"void"}},{"data":{"id":"godels_proofgodel_escher<br>A","weight":1,"source":"godels_proof","target":"godel_escher<br>A"}},{"data":{"id":"drop_drinkhandful_dust<br>This","weight":1,"source":"drop_drink","target":"handful_dust<br>This"}},{"data":{"id":"handful_dustbook_club<br>An","weight":1,"source":"handful_dust","target":"book_club<br>An"}},{"data":{"id":"american_godsanansi_boys","weight":1,"source":"american_gods","target":"anansi_boys"}},{"data":{"id":"odalisqueking_vagabonds","weight":1,"source":"odalisque","target":"king_vagabonds"}},{"data":{"id":"king_vagabondsquicksilver","weight":1,"source":"king_vagabonds","target":"quicksilver"}},{"data":{"id":"ocean_end<br>Gaianvoid","weight":1,"source":"ocean_end<br>Gaian","target":"void"}},{"data":{"id":"brunelleschis_domemitchell<br>A","weight":1,"source":"brunelleschis_dome","target":"mitchell<br>A"}},{"data":{"id":"strange_loopgodel_escher<br>This","weight":1,"source":"strange_loop","target":"godel_escher<br>This"}},{"data":{"id":"beyond_chocolatechocolate_war","weight":1,"source":"beyond_chocolate","target":"chocolate_war"}},{"data":{"id":"le_tongodel_escher<br>A","weight":1,"source":"le_ton","target":"godel_escher<br>A"}},{"data":{"id":"gang_leaderryan_holiday","weight":1,"source":"gang_leader","target":"ryan_holiday"}},{"data":{"id":"howls_movingvoid","weight":1,"source":"howls_moving","target":"void"}},{"data":{"id":"curious_incidentvoid","weight":1,"source":"curious_incident","target":"void"}},{"data":{"id":"shakespeare_savedvoid","weight":1,"source":"shakespeare_saved","target":"void"}},{"data":{"id":"hp_sorcerersvoid","weight":1,"source":"hp_sorcerers","target":"void"}},{"data":{"id":"hacker_hoaxerlibrary","weight":1,"source":"hacker_hoaxer","target":"library"}},{"data":{"id":"saturdayschool","weight":1,"source":"saturday","target":"school"}},{"data":{"id":"george_secretvoid","weight":1,"source":"george_secret","target":"void"}},{"data":{"id":"own_countrycutting_for","weight":1,"source":"own_country","target":"cutting_for"}},{"data":{"id":"tennis_partnercutting_for","weight":1,"source":"tennis_partner","target":"cutting_for"}},{"data":{"id":"long_utopialong_mars","weight":1,"source":"long_utopia","target":"long_mars"}},{"data":{"id":"long_marslong_war","weight":1,"source":"long_mars","target":"long_war"}},{"data":{"id":"art_deceptionghost_wires","weight":1,"source":"art_deception","target":"ghost_wires"}},{"data":{"id":"skeleton_keypoint_blank","weight":1,"source":"skeleton_key","target":"point_blank"}}]},
  
  layout: {
    name: 'breadthfirst',
    directed: true,
    roots: '#library, #void',
    padding: 10
  }
});
  
var bfs = cy.elements().bfs('#a', function(){}, true);

var i = 0;
var highlightNextEle = function(){
  bfs.path[i].addClass('highlighted');
  
  if( i < bfs.path.length ){
    i++;
    setTimeout(highlightNextEle, 1000);
  }
};

// kick off first highlight
highlightNextEle();

}); // on dom ready